# 柳芯系统 v7.10.10

**系统状态**: ✅ 已清理，核心文件完整  
**清理日期**: 2025-10-31  
**系统文档**: `📘【柳芯系统完整文档】.json`  

---

## 📘 核心文档

**请先阅读**: `📘【柳芯系统完整文档】.json`

这个文档包含：
- 系统概览（版本、架构、核心文件）
- 核心规则（6条 .cursorrules）
- 数据库规则（72条拦截规则）
- 团队模式角色（5个角色）
- 模块锁定状态（5个模块）
- 技能与经验（124+42）
- 监控点位（535个）
- 核心功能说明（8大功能）
- 已知问题与经验（6个历史问题）
- AI工作流程

---

## 🎯 快速开始

### 1. 查看系统文档
```bash
# 查看完整文档
code "📘【柳芯系统完整文档】.json"

# 或使用Node.js
node -e "const doc = require('./📘【柳芯系统完整文档】.json'); console.log(JSON.stringify(doc, null, 2))"
```

### 2. 更新系统文档
```bash
# 重新生成文档（扫描数据库和配置）
node generate-system-doc.js
```

### 3. 查看清理报告
```bash
code "✅【系统清理完成报告】.md"
```

---

## 📦 核心文件

### MCP服务器
- `liuxin-mcp-server-unified.js` - MCP服务器主文件
- `liuxin-mcp-http-server-full.js` - HTTP服务器

### 核心逻辑
- `ResponseInterceptor.js` - 响应拦截器
- `v7.3-core-logic.js` - 核心逻辑 (SmartPreloader)
- `fusion-phase2-memory-loader.js` - 记忆加载器

### 管理系统
- `archive-manager.js` - 归档管理器
- `generate-system-doc.js` - 文档生成工具
- `HotReloadManager.js` - 热重载管理器
- `SystemFeatureRegistry.js` - 系统功能注册表

### 数据库
- `liuxin.db` - 主数据库 (108MB)
- `liuxin.db-wal` - WAL文件
- `liuxin.db-shm` - 共享内存文件

### 锁定系统
- `locks/` - 锁定系统目录
  - `LockManager.js`
  - `lock-config.json`

### 归档系统
- `archives/` - 归档目录
  - `chat-history/` - 聊天历史
  - `bug-fixes/` - Bug修复记录

---

## 🗂️ 备份目录

所有历史文件已备份到 `备份-2025-10-31/`：

- `报告文档/` - 所有历史报告和文档 (~280个文件)
- `测试脚本/` - 所有测试脚本 (~136个文件)
- `诊断脚本/` - 所有诊断脚本 (~88个文件)
- `backups/` - 旧的备份目录
- `logs/` - 旧的日志目录

### 恢复文件
```bash
# 恢复单个文件
Copy-Item "备份-2025-10-31\报告文档\文件名.md" -Destination ".\"

# 查看备份内容
Get-ChildItem "备份-2025-10-31\报告文档"
```

---

## 🛠️ 系统功能

### 1. 规则拦截系统
- 三层拦截器（Pre/Post/Response）
- 72条拦截规则
- 自动纠正和警告

### 2. 团队模式
- 5个角色自动切换
- 智能关键词匹配
- 角色特定响应

### 3. 智能预加载
- 12+项内容预加载
- P0/P1/P2/P3 级别记忆
- 场景自动检测

### 4. 统计系统
- 535个监控点位
- 单次对话统计
- 自动重置

### 5. 锁定系统
- 模块级别锁定
- 热重载配置
- 防误修改

### 6. 归档系统
- 自动归档对话历史
- Bug修复记录
- 项目快照

### 7. 复述系统
- 强制需求复述
- 智能确认机制
- 防误解需求

### 8. 热重载
- 配置自动更新
- 无需重启Cursor
- 300ms防抖

---

## ⚠️ 注意事项

### 不可删除的文件
- `liuxin.db` - 主数据库
- `liuxin-mcp-server-unified.js` - MCP服务器
- `ResponseInterceptor.js` - 响应拦截器
- `v7.3-core-logic.js` - 核心逻辑
- `locks/LockManager.js` - 锁管理器
- `locks/lock-config.json` - 锁配置

### 已知问题
请查看 `📘【柳芯系统完整文档】.json` 中的 **【已知问题与经验】** 章节。

---

## 📋 当前状态

- ✅ 系统已清理
- ✅ 核心文件完整
- ✅ 数据库完整 (108MB)
- ✅ 锁定系统正常
- ✅ 归档系统正常
- ✅ 系统文档完整

**等待用户下一步指示。**

---

## 📚 相关文档

- `📘【柳芯系统完整文档】.json` - 核心文档
- `📋【系统完整文档使用指南】.md` - 使用指南
- `📋【系统文档自动同步机制】.md` - 同步机制说明
- `✅【系统完整文档生成完成报告】.md` - 生成报告
- `✅【系统清理完成报告】.md` - 清理报告
- `统计重置功能修复报告-v7.10.10.md` - 最新修复报告
- `统计功能测试指南.md` - 测试指南

---

**维护人**: AI助手  
**最后更新**: 2025-10-31  
**版本**: v7.10.10  

